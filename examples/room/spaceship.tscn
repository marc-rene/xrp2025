[gd_scene load_steps=14 format=3 uid="uid://gs43x3856a3o"]

[ext_resource type="Script" uid="uid://cmw6n17mebkcx" path="res://examples/behaviors/boid.gd" id="1_ot75m"]
[ext_resource type="Script" uid="uid://s5pb8njisohn" path="res://examples/behaviors/avoidance.gd" id="2_cy4vg"]
[ext_resource type="Script" uid="uid://b6jj7yxhu2hi1" path="res://examples/behaviors/follow_path.gd" id="3_v6oxf"]
[ext_resource type="PackedScene" uid="uid://b0mn1ubpad5rm" path="res://examples/room/craft_speederD.glb" id="4_el648"]
[ext_resource type="Material" uid="uid://dohx2u81lglvd" path="res://examples/behaviors/jet_material.tres" id="5_b541a"]
[ext_resource type="AudioStream" uid="uid://dj0fpxg4c0pd2" path="res://sounds/spaceship-ambience-with-effects-21420.mp3" id="6_k3elg"]

[sub_resource type="BoxShape3D" id="2"]
size = Vector3(0.141968, 0.0560303, 0.0609894)

[sub_resource type="Gradient" id="Gradient_em1vl"]
offsets = PackedFloat32Array(0, 0.00249377, 0.63591, 1)
colors = PackedColorArray(1, 0.984314, 0, 0, 0, 1, 0.783333, 1, 1, 0, 0.983333, 1, 1, 0, 0, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_akxxs"]
gradient = SubResource("Gradient_em1vl")
use_hdr = true

[sub_resource type="Curve" id="Curve_kip11"]
_data = [Vector2(0, 0.505263), 0.0, 0.0, 0, 0, Vector2(0.355731, 0.915789), 0.0, 0.0, 0, 0, Vector2(1, 0.0421052), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_3xgau"]
curve = SubResource("Curve_kip11")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_8su2q"]
particle_flag_align_y = true
direction = Vector3(0, 1, 0)
spread = 10.0
initial_velocity_min = 0.2
initial_velocity_max = 0.5
gravity = Vector3(0, 0, 0)
linear_accel_min = 1.0
linear_accel_max = 1.0
scale_min = 0.1
scale_curve = SubResource("CurveTexture_3xgau")
color = Color(0.14, 1, 0.670333, 0.176471)
color_ramp = SubResource("GradientTexture1D_akxxs")

[sub_resource type="PrismMesh" id="PrismMesh_wnpci"]
size = Vector3(0.01, 0.01, 0.01)

[node name="Boid" type="CharacterBody3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
motion_mode = 1
script = ExtResource("1_ot75m")
max_speed = 0.2
max_force = 5
banking = 10.0
damping = 0.0
draw_gizmos = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 2, 0.000671387, -0.00756836, 0.00498195)
shape = SubResource("2")

[node name="Avoidance" type="Node" parent="."]
script = ExtResource("2_cy4vg")
feeler_angle = 100
feeler_length = 0.3
weight = 7.0
draw_gizmos = false
metadata/_custom_type_script = "uid://s5pb8njisohn"

[node name="follow_path" type="Node" parent="." node_paths=PackedStringArray("path")]
script = ExtResource("3_v6oxf")
path = NodePath("")
waypoint_seek_distance = 0.1
weight = 5.0
draw_gizmos = false

[node name="craft_speederD2" parent="." instance=ExtResource("4_el648")]
transform = Transform3D(-0.05, 0, -4.37114e-09, 0, 0.05, 0, 4.37114e-09, 0, -0.05, 0.100756, -0.0180049, 0.0849958)

[node name="GPUParticles3D" type="GPUParticles3D" parent="."]
transform = Transform3D(0.05, 0, 0, 0, -2.18557e-09, 0.05, 0, -0.05, -2.18557e-09, -0.0178165, 0.00135851, -0.0503982)
material_override = ExtResource("5_b541a")
amount = 500
lifetime = 0.5
trail_lifetime = 1.0
process_material = SubResource("ParticleProcessMaterial_8su2q")
draw_pass_1 = SubResource("PrismMesh_wnpci")

[node name="GPUParticles3D2" type="GPUParticles3D" parent="."]
transform = Transform3D(0.05, 0, 0, 0, -2.18557e-09, 0.05, 0, -0.05, -2.18557e-09, 0.0215936, 0.00135851, -0.0503982)
material_override = ExtResource("5_b541a")
amount = 500
lifetime = 0.5
trail_lifetime = 1.0
process_material = SubResource("ParticleProcessMaterial_8su2q")
draw_pass_1 = SubResource("PrismMesh_wnpci")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("6_k3elg")
attenuation_model = 2
autoplay = true
max_distance = 2.0
