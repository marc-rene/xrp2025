[gd_scene load_steps=20 format=3 uid="uid://c3u1b3ysyfe30"]

[ext_resource type="PackedScene" uid="uid://cjcehqrfoxav3" path="res://addons/hand_pose_detector/hands/LeftHandHumanoid.gltf" id="2_pvxhv"]
[ext_resource type="PackedScene" uid="uid://dabmoo0spa6vg" path="res://addons/hand_pose_detector/hands/RightHandHumanoid.gltf" id="3_6h1ut"]
[ext_resource type="Script" uid="uid://drtgdi28p6w7b" path="res://addons/hand_pose_detector/hand_pose_detector.gd" id="3_b11sm"]
[ext_resource type="PackedScene" uid="uid://df5hynbooj1uj" path="res://addons/hand_pose_detector/hand_pose_detector.tscn" id="6_mfkbt"]
[ext_resource type="Resource" uid="uid://ckjd0xa2a240p" path="res://addons/hand_pose_detector/poses/standard_pose_set.tres" id="7_077gh"]
[ext_resource type="Material" uid="uid://dohx2u81lglvd" path="res://examples/tank_game_3d/jet_material.tres" id="102_wnpci"]

[sub_resource type="BoxShape3D" id="2"]
size = Vector3(0.141968, 0.0560303, 0.0609894)

[sub_resource type="Gradient" id="Gradient_em1vl"]
offsets = PackedFloat32Array(0, 0.00249377, 0.63591, 1)
colors = PackedColorArray(1, 0.984314, 0, 0, 0, 1, 0.783333, 1, 1, 0, 0.983333, 1, 1, 0, 0, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_akxxs"]
gradient = SubResource("Gradient_em1vl")
use_hdr = true

[sub_resource type="Curve" id="Curve_kip11"]
_data = [Vector2(0, 0.505263), 0.0, 0.0, 0, 0, Vector2(0.355731, 0.915789), 0.0, 0.0, 0, 0, Vector2(1, 0.0421052), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_3xgau"]
curve = SubResource("Curve_kip11")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_8su2q"]
particle_flag_align_y = true
direction = Vector3(0, 1, 0)
spread = 10.0
initial_velocity_min = 0.2
initial_velocity_max = 0.5
gravity = Vector3(0, 0, 0)
linear_accel_min = 1.0
linear_accel_max = 1.0
scale_min = 0.1
scale_curve = SubResource("CurveTexture_3xgau")
color = Color(0.14, 1, 0.670333, 0.176471)
color_ramp = SubResource("GradientTexture1D_akxxs")

[sub_resource type="PrismMesh" id="PrismMesh_wnpci"]
size = Vector3(0.01, 0.01, 0.01)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_rf3s6"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_uhqqe"]
sky_material = SubResource("ProceduralSkyMaterial_rf3s6")

[sub_resource type="Environment" id="Environment_73ssi"]
background_mode = 1
sky = SubResource("Sky_uhqqe")
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 1.29
reflected_light_source = 2
tonemap_mode = 2
glow_enabled = true

[sub_resource type="SphereShape3D" id="SphereShape3D_0s3vr"]
radius = 0.1

[sub_resource type="SphereShape3D" id="SphereShape3D_pvxhv"]
radius = 0.05

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_dbnba"]
radius = 0.05
height = 0.2

[node name="cubes_scene" type="Node3D"]

[node name="Boid" type="CharacterBody3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -0.247627, 1.60836, -0.863971)
motion_mode = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="Boid"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 2, 0.000671387, -0.00756836, 0.00498195)
shape = SubResource("2")

[node name="Avoidance" type="Node" parent="Boid"]
metadata/_custom_type_script = "uid://s5pb8njisohn"

[node name="follow_path" type="Node" parent="Boid"]

[node name="craft_speederD2" parent="Boid"]
_import_path = NodePath("")
unique_name_in_owner = false
process_mode = 0
process_priority = 0
process_physics_priority = 0
process_thread_group = 0
physics_interpolation_mode = 0
auto_translate_mode = 0
editor_description = ""
transform = Transform3D(-0.05, 0, -4.37114e-09, 0, 0.05, 0, 4.37114e-09, 0, -0.05, 0.100756, -0.0180049, 0.0849958)
script = null

[node name="GPUParticles3D" type="GPUParticles3D" parent="Boid"]
transform = Transform3D(0.05, 0, 0, 0, -2.18557e-09, 0.05, 0, -0.05, -2.18557e-09, -0.0178165, 0.00135851, -0.0503982)
material_override = ExtResource("102_wnpci")
amount = 500
lifetime = 0.5
trail_lifetime = 1.0
process_material = SubResource("ParticleProcessMaterial_8su2q")
draw_pass_1 = SubResource("PrismMesh_wnpci")

[node name="GPUParticles3D2" type="GPUParticles3D" parent="Boid"]
transform = Transform3D(0.05, 0, 0, 0, -2.18557e-09, 0.05, 0, -0.05, -2.18557e-09, 0.0215936, 0.00135851, -0.0503982)
material_override = ExtResource("102_wnpci")
amount = 500
lifetime = 0.5
trail_lifetime = 1.0
process_material = SubResource("ParticleProcessMaterial_8su2q")
draw_pass_1 = SubResource("PrismMesh_wnpci")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="Boid"]
attenuation_model = 2
autoplay = true
max_distance = 2.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_73ssi")

[node name="start_passthrough" type="Node" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="XROrigin3D" type="XROrigin3D" parent="."]

[node name="XRCamera3D" type="XRCamera3D" parent="XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.10548, 0)
near = 0.001

[node name="AudioListener3D" type="AudioListener3D" parent="XROrigin3D/XRCamera3D"]

[node name="CharacterBody3D" type="CharacterBody3D" parent="XROrigin3D/XRCamera3D"]
motion_mode = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="XROrigin3D/XRCamera3D/CharacterBody3D"]
shape = SubResource("SphereShape3D_0s3vr")

[node name="left" type="XRNode3D" parent="XROrigin3D"]
tracker = &"/user/hand_tracker/left"
show_when_tracked = true

[node name="HandPoseDetector" type="Node" parent="XROrigin3D/left"]
script = ExtResource("3_b11sm")
hand_pose_set = ExtResource("7_077gh")

[node name="left_hand" type="Area3D" parent="XROrigin3D/left"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0680579, 0.159387)

[node name="CollisionShape3D" type="CollisionShape3D" parent="XROrigin3D/left/left_hand"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.144068)
shape = SubResource("SphereShape3D_pvxhv")

[node name="LeftHandHumanoid2" parent="XROrigin3D/left" instance=ExtResource("2_pvxhv")]

[node name="XRHandModifier3D" type="XRHandModifier3D" parent="XROrigin3D/left/LeftHandHumanoid2/LeftHandHumanoid/Skeleton3D" index="1"]

[node name="collider" type="CharacterBody3D" parent="XROrigin3D/left"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="XROrigin3D/left/collider"]
shape = SubResource("CapsuleShape3D_dbnba")

[node name="right" type="XRNode3D" parent="XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.382027, 0, -0.143927)
tracker = &"/user/hand_tracker/right"
show_when_tracked = true

[node name="right_hand" type="Area3D" parent="XROrigin3D/right"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0676188, 0.159387)

[node name="CollisionShape3D" type="CollisionShape3D" parent="XROrigin3D/right/right_hand"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.144068)
shape = SubResource("SphereShape3D_pvxhv")

[node name="RightHandHumanoid2" parent="XROrigin3D/right" instance=ExtResource("3_6h1ut")]

[node name="XRHandModifier3D" type="XRHandModifier3D" parent="XROrigin3D/right/RightHandHumanoid2/RightHandHumanoid/Skeleton3D" index="0"]
hand_tracker = &"/user/hand_tracker/right"

[node name="HandPoseDetector" parent="XROrigin3D/right" instance=ExtResource("6_mfkbt")]
hand_tracker_name = "/user/hand_tracker/right"
hand_pose_set = ExtResource("7_077gh")

[node name="collider" type="CharacterBody3D" parent="XROrigin3D/right"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="XROrigin3D/right/collider"]
shape = SubResource("CapsuleShape3D_dbnba")

[connection signal="area_entered" from="XROrigin3D/left/left_hand" to="XROrigin3D/left" method="_on_right_hand_area_entered"]
[connection signal="area_entered" from="XROrigin3D/right/right_hand" to="XROrigin3D/right" method="_on_right_hand_area_entered"]
[connection signal="area_exited" from="XROrigin3D/right/right_hand" to="XROrigin3D/right" method="_on_right_hand_area_exited"]

[editable path="XROrigin3D/left/LeftHandHumanoid2"]
[editable path="XROrigin3D/right/RightHandHumanoid2"]
